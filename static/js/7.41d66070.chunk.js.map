{"version":3,"sources":["firebase/FireBaseRef.js","blockchain/publicEntryInfo.js","component/Loading/Loading.js","blockchain/loanDBInfo.js","blockchain/heartTokenInfo.js","blockchain/walletInfo.js","blockchain/contractInteract.js","assets/image/expand.svg","assets/image/heart-icon.gif","assets/image/person.svg","assets/image/phone.svg","assets/image/address.svg","component/FundCard/FundCard.js","component/Popup/Popup.js","container/FundPage/FundPage.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","web3","Web3","window","currentProvider","ABI","ProxyContract","abi","eth","Contract","Loading","show","src","LoadingIcon","alt","className","LoanDBContract","HeartTokenContract","WalletContract","callContract","contract","func","params","Promise","resolve","reject","a","methods","call","output","sendContract","send","once","result","console","log","sendContractPayable","amount","value","requestLoan","publicEntryInfo","then","catch","error","lendLoan","debtNo","payLoan","burnToken","withDraw","getLenderofDebt","loanDBInfo","getBorrowerofDebt","getAmountofDebt","getInterestofDebt","getStateofDebt","getLendHistory","address","getTokenBalance","heartTokenInfo","getWalletBalance","walletInfo","module","exports","FundCard","props","name","ExpandIcon","onClick","openModel","reason","convertWeiToEther","convertWeiToUSD","usdRate","lend","id","React","memo","Fragment","clicked","closed","PersonLogo","AddressLogo","PhoneLogo","phone","renderText","prevProps","nextProps","connect","state","useState","loading","setLoading","pageNum","setPageNum","currentPage","setCurrentPage","data","setData","openPopup","setOpenPopup","inforDetail","setInforDetail","updateDebtList","useCallback","getDebtDataBase","ref","getInforDataBase","borrower","orderByChild","equalTo","tempData","debtData","debtsList","val","key","item","userAddress","parseInt","userKey","userData","push","useEffect","numList","i","Math","ceil","length","lendLoanAct","Swal","fire","icon","title","text","HeartIcon","slice","map","index","openInforDetail","number"],"mappings":"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","file":"static/js/7.41d66070.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/database\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCYq8IE7Q_7Mr8jq4GSehmF9zqXDyub0zA\",\n  authDomain: \"microfinance-cab4b.firebaseapp.com\",\n  databaseURL: \"https://microfinance-cab4b.firebaseio.com\",\n  projectId: \"microfinance-cab4b\",\n  storageBucket: \"microfinance-cab4b.appspot.com\",\n  messagingSenderId: \"814835183992\",\n  appId: \"1:814835183992:web:09791f4a233f4b837fd88d\"\n};\nfirebase.initializeApp(firebaseConfig);\nexport const database = firebase.database();\n","import Web3 from \"web3\";\nimport ProxyContract from \"../contracts/Proxy.json\";\nconst web3 = new Web3(window.web3.currentProvider);\nconst address = \"0x6a961cD4488CBCF843E9d2D26A4b8f79BdD1E0Bb\";\nconst ABI = ProxyContract.abi;\n\nexport default new web3.eth.Contract(ABI, address);\n","import React from \"react\";\nimport BackDrop from \"../BackDrop/BackDrop\";\nimport LoadingIcon from \"../../assets/image/loading-heart.svg\";\nfunction Loading() {\n  return (\n    <BackDrop show=\"true\">\n      <img src={LoadingIcon} alt=\"spinner\" className=\"spinner\" />\n    </BackDrop>\n  );\n}\n\nexport default Loading;\n","import Web3 from \"web3\";\nimport LoanDBContract from \"../contracts/LoanDB.json\";\nconst web3 = new Web3(window.web3.currentProvider);\nconst address = \"0x0CFD270A03C7A29611e16956551D2Fbd3b5326d7\";\nconst ABI = LoanDBContract.abi;\n\nexport default new web3.eth.Contract(ABI, address);\n","import Web3 from \"web3\";\nimport HeartTokenContract from \"../contracts/HeartToken.json\";\nconst web3 = new Web3(window.web3.currentProvider);\nconst address = \"0x1c9a901438CFe8b9Be686e7d8088E2E863194830\";\nconst ABI = HeartTokenContract.abi;\n\nexport default new web3.eth.Contract(ABI, address);\n","import Web3 from \"web3\";\nimport WalletContract from \"../contracts/Wallet.json\";\nconst web3 = new Web3(window.web3.currentProvider);\nconst address = \"0x80EE439859Dd2035bB812196E0fDCCCd56520076\";\nconst ABI = WalletContract.abi;\n\nexport default new web3.eth.Contract(ABI, address);\n","import publicEntryInfo from \"./publicEntryInfo\";\nimport loanDBInfo from \"./loanDBInfo\";\nimport heartTokenInfo from \"./heartTokenInfo\";\nimport walletInfo from \"./walletInfo\";\n//https://ethereum.stackexchange.com/questions/29044/dynamically-calling-a-function-on-a-contract\n//https://stackoverflow.com/questions/3914557/passing-arguments-forward-to-another-javascript-function\n\n// @notice dynamic call contract function that is able to call various parameters and handle parameters\n// @return corresponding output\nexport const callContract = (contract, func, ...params) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const output = await contract.methods[func](...params).call();\n      resolve(output);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n// @notice dynamic send contract function that is able to handle parameters\n// @return corresponding result object\nexport const sendContract = (contract, func, ...params) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      await contract.methods[func](...params)\n        .send()\n        .once(\"receipt\", async result => {\n          console.log(result);\n          resolve(result);\n        });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nexport const sendContractPayable = (contract, func, amount, ...params) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(amount);\n    try {\n      await contract.methods[func](...params)\n        .send({ value: amount })\n        .once(\"receipt\", async result => {\n          console.log(result);\n          resolve(result);\n        });\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\n// @notice Proxy contract, functions that change state.\nexport const requestLoan = amount => {\n  return new Promise((resolve, reject) => {\n    sendContract(publicEntryInfo, \"postRequest\", amount)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const lendLoan = (debtNo, amount) => {\n  return new Promise((resolve, reject) => {\n    sendContractPayable(publicEntryInfo, \"lendLoan\", amount, debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const payLoan = (debtNo, amount) => {\n  return new Promise((resolve, reject) => {\n    sendContractPayable(publicEntryInfo, \"payLoan\", amount, debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const burnToken = amount => {\n  return new Promise((resolve, reject) => {\n    sendContract(publicEntryInfo, \"burnToken\", amount)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const withDraw = amount => {\n  return new Promise((resolve, reject) => {\n    sendContract(publicEntryInfo, \"withDraw\", amount)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\n// @notice LoanDB contract, functions that get state.\n\nexport const checkHaveDebt = address => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"checkHaveDebt\", address)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const getLenderofDebt = debtNo => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getLenderofDebt\", debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const getBorrowerofDebt = debtNo => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getBorrowerofDebt\", debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\nexport const getAmountofDebt = debtNo => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getAmountofDebt\", debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\nexport const getInterestofDebt = debtNo => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getInterestofDebt\", debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\nexport const getStateofDebt = debtNo => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getStateofDebt\", debtNo)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const getDebtHistory = address => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getDebtHistory\", address)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const getLendHistory = address => {\n  return new Promise((resolve, reject) => {\n    callContract(loanDBInfo, \"getLendHistory\", address)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\n// @notice Heart token contract. Get state functions.\n\nexport const getTokenBalance = address => {\n  return new Promise((resolve, reject) => {\n    callContract(heartTokenInfo, \"balanceOf\", address)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n\nexport const getWalletBalance = address => {\n  return new Promise((resolve, reject) => {\n    callContract(walletInfo, \"depositsOf\", address)\n      .then(result => resolve(result))\n      .catch(error => reject(error));\n  });\n};\n","module.exports = __webpack_public_path__ + \"static/media/expand.4a9ac929.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart-icon.8e54df70.gif\";","module.exports = __webpack_public_path__ + \"static/media/person.18b20c04.svg\";","module.exports = __webpack_public_path__ + \"static/media/phone.62c39e7f.svg\";","module.exports = __webpack_public_path__ + \"static/media/address.2da281ad.svg\";","import React from \"react\";\nimport \"./FundCard.scss\";\nimport ExpandIcon from \"../../assets/image/expand.svg\";\nimport { convertWeiToEther, convertWeiToUSD } from \"../../scripts/utility\";\nfunction FundCard(props) {\n  return (\n    <div className=\"fund_item\">\n      <div className=\"fund_item_title\">\n        <span>{props.name}</span>\n        <img src={ExpandIcon} alt=\"expand\" onClick={props.openModel} />\n      </div>\n      <div className=\"fund_item_reason\">\n        <span>Reason: </span>\n        <p>{props.reason}</p>\n      </div>\n      <div className=\"fund_item_money\">\n        <span>\n          {convertWeiToEther(props.value)} Ether (\n          {convertWeiToUSD(props.value, props.usdRate)} USD)\n        </span>\n      </div>\n      <button\n        className=\"fund_item_btn\"\n        onClick={() => props.lend(props.id, props.value)}\n      >\n        <span>lend</span>\n      </button>\n    </div>\n  );\n}\n\nexport default FundCard;\n","import React from \"react\";\nimport \"./Popup.scss\";\nimport Backdrop from \"../BackDrop/BackDrop\";\nimport PersonLogo from \"../../assets/image/person.svg\";\nimport PhoneLogo from \"../../assets/image/phone.svg\";\nimport AddressLogo from \"../../assets/image/address.svg\";\nimport { PhoneTextFormatCustom } from \"../../scripts/utility\";\nfunction Popup(props) {\n  return (\n    <React.Fragment>\n      <Backdrop show={props.show} clicked={props.closed} />\n      <div className={`popup ${props.show && \"popup--open\"}`}>\n        <div className=\"popup__content\">\n          <div className=\"popup__title popup__flex\">\n            <img src={PersonLogo} alt=\"personLogo\" />\n            <span>{props.name}</span>\n            <div className=\"x-touch\" onClick={props.closed}>\n              <div className=\"x\">\n                <div className=\"line1\"></div>\n                <div className=\"line2\"></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"popup__infor\">\n            <div className=\"popup__addr popup__flex\">\n              <img src={AddressLogo} alt=\"addresslogo\" />\n              <span>{props.address}</span>\n            </div>\n            <div className=\"popup__phone popup__flex\">\n              <img src={PhoneLogo} alt=\"phonelogo\" />\n              <PhoneTextFormatCustom\n                value={props.phone}\n                renderText={value => <span>{value}</span>}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(\n  Popup,\n  (prevProps, nextProps) => nextProps.show === prevProps.show\n);\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport FundCard from \"../../component/FundCard/FundCard\";\nimport HeartIcon from \"../../assets/image/heart-icon.gif\";\nimport { database } from \"../../firebase/FireBaseRef\";\nimport {\n  getStateofDebt,\n  getAmountofDebt,\n  lendLoan,\n  getBorrowerofDebt\n} from \"../../blockchain/contractInteract\";\nimport Popup from \"../../component/Popup/Popup\";\nimport Loading from \"../../component/Loading/Loading\";\nimport { connect } from \"react-redux\";\nimport \"./FundPage.scss\";\nimport Swal from \"sweetalert2\";\n\nfunction FundPage(props) {\n  const { address, usdRate } = props;\n  const [loading, setLoading] = useState(false);\n  // const [error, setError] = useState(\"\");\n  const [pageNum, setPageNum] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [data, setData] = useState([]);\n  const [openPopup, setOpenPopup] = useState(false);\n  const [inforDetail, setInforDetail] = useState({});\n  const maxPage = 8;\n\n  // useEffect(() => {}, [currentPage]);\n  const updateDebtList = useCallback(async () => {\n    const getDebtDataBase = async () =>\n      await database.ref(\"debt\").once(\"value\");\n    const getInforDataBase = async borrower =>\n      await database\n        .ref(\"infor\")\n        .orderByChild(\"userAddr\")\n        .equalTo(borrower)\n        .once(\"value\");\n    const tempData = [];\n    let debtData = await getDebtDataBase();\n    let debtsList = debtData.val();\n    for (let key in debtsList) {\n      let borrower = await getBorrowerofDebt(debtsList[key].debtNo);\n      if (borrower !== address) {\n        let item = {\n          debtNo: \"\",\n          userAddress: \"\",\n          reason: \"\",\n          value: \"\",\n          name: \"\",\n          address: \"\",\n          phone: \"\"\n        };\n        let state = await getStateofDebt(debtsList[key].debtNo);\n        if (parseInt(state) === 0) {\n          let amount = await getAmountofDebt(debtsList[key].debtNo);\n          item.value = amount;\n          item.debtNo = debtsList[key].debtNo;\n          item.userAddress = borrower;\n          item.reason = debtsList[key].reason;\n          let userData = await getInforDataBase(borrower);\n          for (let userKey in userData.val()) {\n            item.name = userData.val()[userKey].name;\n            item.address = userData.val()[userKey].address;\n            item.phone = userData.val()[userKey].phone;\n          }\n          tempData.push(item);\n        }\n      }\n    }\n    return tempData;\n  }, [address]);\n  useEffect(() => {\n    setLoading(true);\n    updateDebtList().then(result => {\n      setData(result);\n      let numList = [];\n      for (let i = 0; i < Math.ceil(result.length / maxPage); i++) {\n        numList.push(i);\n      }\n      setPageNum(numList);\n    });\n    setLoading(false);\n  }, [address, updateDebtList]);\n  const changePage = index => {\n    setCurrentPage(index);\n  };\n  const openInforDetail = (name, address, phone) => {\n    console.log(\"hello\");\n    setInforDetail({ name, address, phone });\n    setOpenPopup(true);\n  };\n  const closeInforDetail = () => {\n    setInforDetail({});\n    setOpenPopup(false);\n  };\n  const lendLoanAct = async (debtNo, amount) => {\n    setLoading(true);\n    await lendLoan(debtNo, amount);\n    updateDebtList().then(result => {\n      setData(result);\n      let numList = [];\n      for (let i = 0; i < Math.ceil(result.length / maxPage); i++) {\n        numList.push(i);\n      }\n      setPageNum(numList);\n    });\n    setLoading(false);\n    Swal.fire({\n      icon: \"success\",\n      title: \"You paid successfully\",\n      text: \"Reward 10 Heart Token\"\n    });\n  };\n  return (\n    <div className=\"fund\">\n      <div className=\"banner\"></div>\n      <div className=\"title\">\n        <img src={HeartIcon} alt=\"heart icon\" className=\"title_image\" />\n        <p>Someone needs your help !!</p>\n      </div>\n      <div className=\"fund__content\">\n        <div className=\"fund-card\">\n          {data.length !== 0 &&\n            data\n              .slice(currentPage * maxPage, (currentPage + 1) * maxPage)\n              .map((item, index) => (\n                <FundCard\n                  name={item.name}\n                  reason={item.reason}\n                  value={item.value}\n                  usdRate={usdRate}\n                  openModel={() =>\n                    openInforDetail(item.name, item.address, item.phone)\n                  }\n                  key={item.debtNo}\n                  id={item.debtNo}\n                  lend={lendLoanAct}\n                />\n              ))}\n        </div>\n        {loading && <Loading />}\n        {pageNum.length !== 0 && (\n          <div className=\"pagination\">\n            <span>&laquo;</span>\n            {pageNum.map(number => (\n              <span\n                key={number}\n                className={currentPage === number ? \"active\" : \"\"}\n                onClick={() => changePage(number)}\n              >\n                {number + 1}\n              </span>\n            ))}\n            <span>&raquo;</span>\n          </div>\n        )}\n        <Popup\n          name={inforDetail.name}\n          address={inforDetail.address}\n          phone={inforDetail.phone}\n          show={openPopup}\n          closed={closeInforDetail}\n        />\n      </div>\n    </div>\n  );\n}\nconst mapStateToProps = state => {\n  return {\n    address: state.address,\n    usdRate: state.usdRate\n  };\n};\nexport default connect(mapStateToProps)(FundPage);\n"],"sourceRoot":""}